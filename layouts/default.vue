<template>
  <q-layout view="hHh lpR fff">
    <q-header class="bg-white text-black row justify-center" height-hint="98">
      <q-toolbar>
        <q-toolbar-title class="row justify-center topTitle">
          <q-btn class="titleLogo" to="/" :ripple="{ color: 'white', early: false }">
            <img src="/default/logo.png" class="springWater" to="/" />
          </q-btn>
        </q-toolbar-title>

        <q-btn dense flat round @click="toggleRightDrawer" class="lt-md">
          <q-icon left size="2.5em" name="menu" class="xs" />
          <q-icon left size="3em" name="menu" class="sm" />
        </q-btn>
      </q-toolbar>

      <q-tabs align="left" class="layoutTab gt-sm" active-color="pink-8" indicator-color="transparent" v-model="$route.path">
        <!-- 主頁 -->
        <q-btn-dropdown to="/" class="layoutTabs" :class="{ active: isActiveHome }" flat :ripple="{ color: 'white', early: false }">
          <template v-slot:label>
            <div class="tab-content" id="spacial">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                <path
                  d="M11.9778 1.61058C12.28 1.61058 12.5934 1.75724 12.86 2.0239C13.7845 2.9483 14.7089 3.87049 15.6311 4.7949C17.7645 6.92815 19.9689 9.13473 22.1467 11.2969C22.5578 11.7057 22.8044 12.0013 22.8889 12.3302V12.5768C22.8844 12.5901 22.88 12.6035 22.8756 12.6146C22.7044 13.0724 22.6289 13.2435 22.4489 13.379C22.2356 13.5368 21.9689 13.5946 21.4267 13.5946H20.3156V14.7056C20.3156 15.3345 20.3156 15.9633 20.3156 16.5944C20.3156 17.9922 20.3156 19.3877 20.3156 20.7854C20.3156 20.9098 20.3156 21.0343 20.3178 21.1609C20.3245 21.7876 20.3311 22.3298 20.0867 22.7097C19.8822 23.0253 19.5778 23.2208 19.0178 23.3897H15.4134C15.42 21.9809 15.42 20.5521 15.4178 19.1699V18.2455C15.4156 16.8433 14.4311 15.8611 13.0245 15.8545C12.7356 15.8545 12.4445 15.8545 12.1556 15.8545H11.2756H11.0311C9.5467 15.8545 8.5867 16.8122 8.5867 18.2899V19.5099C8.58448 20.7809 8.58226 22.092 8.58893 23.3875H5.04227C5.00005 23.3764 4.9556 23.3675 4.90671 23.3631C4.38894 23.2986 3.6645 22.7653 3.67783 21.7831C3.70005 20.1921 3.69561 18.5766 3.68894 17.0166C3.68894 16.3433 3.6845 15.6722 3.6845 14.9989V13.7568L2.70228 13.6412C2.58005 13.6279 2.46228 13.6168 2.3445 13.6079C2.17117 13.5946 2.02228 13.5812 1.92006 13.5546C1.53117 13.4523 1.25117 13.1835 1.15339 12.8146C1.04672 12.4168 1.17117 11.9902 1.48895 11.6702C4.55116 8.60364 7.57337 5.58598 11.1667 1.99723C11.26 1.9039 11.3467 1.83279 11.4289 1.77946C11.6067 1.66835 11.7934 1.61058 11.9823 1.61058M11.9778 0.499512C11.5845 0.499512 11.1911 0.612841 10.8289 0.84172C10.6667 0.946161 10.5134 1.07282 10.3778 1.21059C7.14893 4.43269 3.92227 7.65701 0.697837 10.8835C-0.557716 12.1391 -0.0466061 14.1856 1.63339 14.6278C1.92228 14.7034 2.23339 14.7034 2.56672 14.7434V14.9967C2.56672 17.2544 2.58894 19.5099 2.55783 21.7676C2.53783 23.2875 3.64227 24.3275 4.76227 24.4675C4.78227 24.4697 4.80227 24.4897 4.82227 24.5008H9.13559C9.55115 24.3452 9.69559 24.0386 9.69337 23.6053C9.68226 21.8342 9.68892 20.0632 9.68892 18.2921C9.68892 17.4322 10.1556 16.9678 11.0245 16.9678C11.4 16.9678 11.7734 16.9678 12.1489 16.9678C12.4378 16.9678 12.7267 16.9678 13.0156 16.9678C13.8178 16.97 14.3 17.45 14.3022 18.2477C14.3022 20.0343 14.3089 21.8209 14.2978 23.6075C14.2956 24.0408 14.4422 24.3452 14.8578 24.5008H19.1711C19.9267 24.2941 20.5778 23.9941 21.0178 23.3142C21.5111 22.5498 21.42 21.6609 21.4222 20.7898C21.4267 18.7632 21.4222 16.7367 21.4222 14.7101C22.0333 14.7101 22.6044 14.6523 23.1089 14.2745C23.6378 13.8812 23.7711 13.3679 23.9978 12.7857V12.2235C23.8756 11.508 23.4244 11.0058 22.9289 10.5147C19.8267 7.43035 16.7378 4.33492 13.6445 1.2417C13.1578 0.750613 12.5689 0.499512 11.9778 0.499512Z"
                  fill="#595656" />
              </svg>

              主頁
            </div>
          </template>
        </q-btn-dropdown>
        <!-- 關於我們 -->
        <q-btn-dropdown to="/about" class="layoutTabs2" :class="{ active: isActiveAbout }" flat :ripple="{ color: 'white', early: false }">
          <template v-slot:label>
            <div class="tab-content">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                <path
                  d="M18.9134 24.4971H16.4156C17.8334 23.8905 18.6223 22.6884 18.6512 21.053V21.0086L18.5778 11.3274L20.4045 20.8175C20.4089 20.842 20.4156 20.8753 20.4245 20.9197C20.7489 22.4907 20.2489 23.6817 18.9423 24.4594C18.9267 24.4682 18.9223 24.486 18.9134 24.4993V24.4971Z"
                  fill="#595757" />
                <path
                  d="M14.2378 24.4971L13.7489 23.8972C14.8934 23.6794 16.2556 22.9817 16.66 20.9308L18.3578 11.3274L18.4312 21.0042V21.0464C18.4 22.7929 17.4534 24.0172 15.7623 24.4949H14.2378V24.4971Z"
                  fill="#595757" />
                <path
                  d="M1.59115 17.0068L3.05115 14.5382L3.02448 14.6182C2.35782 16.5757 2.92671 18.2111 4.62226 19.2266L13.0912 24.1016L3.95115 20.8597C3.92671 20.8508 3.8956 20.8397 3.85337 20.8242C2.08004 20.222 1.32004 18.9355 1.59337 17.0068H1.59115Z"
                  fill="#595757" />
                <path
                  d="M4.10226 12.7628C4.70226 11.7273 5.56449 10.9763 6.63337 10.4741C5.70226 11.4096 5.05782 12.705 5.02893 12.7672C4.01337 14.5693 4.26893 16.2824 5.74893 17.589L13.2 23.915L4.78671 19.0732L4.7356 19.0421C3.11337 18.0734 2.59337 16.5668 3.23337 14.6915L3.59782 13.6205L4.10226 12.7672V12.7628Z"
                  fill="#595757" />
                <path
                  d="M17.4223 8.59656C14.9889 6.25903 11.68 7.31669 11.2378 7.59444L6.53337 10.1675L10.1178 7.08783C11.1423 6.14793 13.7067 4.78585 16.0867 6.33457L17.4245 8.59656H17.4223Z"
                  fill="#595757" />
                <path
                  d="M11.4889 21.1353C13.7934 21.0375 15 18.4533 15.4023 17.5845C15.4489 17.4823 15.4889 17.3956 15.5156 17.3534L16.62 14.7515L14.5512 20.2998L14.5289 20.3553C14.1112 21.3975 13.4378 22.084 12.5289 22.4062L11.4912 21.1375L11.4889 21.1353Z"
                  fill="#595757" />
                <path
                  d="M11.5023 9.88532C10.0156 10.3764 8.08226 12.8961 8.0156 14.2937C7.95337 15.6047 8.0156 16.1091 8.58004 17.2623C8.58004 17.2668 8.58449 17.269 8.58449 17.2734C8.59115 17.289 8.59782 17.3001 8.60449 17.3157C8.60449 17.3179 8.61115 17.3157 8.61337 17.3201C8.80004 17.7178 9.07337 18.0822 9.44226 18.4044C10.1645 19.0377 11.0045 19.3599 11.9356 19.3599C12.1645 19.3599 12.4023 19.3399 12.6423 19.3021C13.6756 19.1355 14.4712 18.6311 15.04 17.84C14.5289 18.8933 13.3667 20.9353 11.3623 20.9353C11.3489 20.9353 11.3378 20.9353 11.3245 20.9353L7.36671 16.098L7.33115 16.0513C6.17115 14.5626 6.23337 12.9739 7.51337 11.4496C7.52226 11.4385 8.4556 10.2386 9.2556 9.80088C10.1489 9.73422 10.94 9.80088 11.5045 9.88754L11.5023 9.88532Z"
                  fill="#595757" />
                <path
                  d="M8.32893 16.0291C8.20226 15.5314 8.19782 15.0626 8.23337 14.3049C8.29782 12.9472 10.3178 10.3675 11.7156 10.0609C11.5978 10.2142 11.4823 10.3675 11.3667 10.5186L11.3334 10.563C10.9667 11.043 10.62 11.494 10.2756 11.9673C9.53782 12.9805 8.33115 15.4025 8.31782 15.8936C8.31782 15.9402 8.32893 15.9825 8.32893 16.0291Z"
                  fill="#595757" />
                <path
                  d="M15.6712 15.9491C15.6667 15.8336 15.6623 15.7203 15.6423 15.6047C15.5534 15.0959 15.3512 14.6382 15.0712 14.1115C14.4312 12.8983 13.6089 11.7829 12.8889 10.8519C12.7334 10.6497 12.5734 10.4519 12.4045 10.2431L12.2578 10.0609C13.6556 10.3586 15.6845 12.945 15.7489 14.3071C15.7823 15.0248 15.78 15.4825 15.6712 15.9514V15.9491Z"
                  fill="#595757" />
                <path
                  d="M15.92 15.8358C15.9978 15.4025 15.9978 14.9492 15.9667 14.2915C15.8845 12.5806 13.7289 10.2253 12.3512 9.85421C12.3356 9.83643 12.32 9.81866 12.2934 9.81199C11.9289 9.72311 10.8445 9.49647 9.50893 9.55868L11.4845 9.1054C13.9378 8.63211 16.1512 9.64978 17.5889 11.8896L15.9178 15.8336L15.92 15.8358Z"
                  fill="#595757" />
                <path
                  d="M7.26004 10.2164C7.58448 10.1031 7.90893 9.99419 8.26893 9.92309C8.44448 9.88976 8.6156 9.86754 8.78893 9.84532C8.06226 10.3875 7.37337 11.2718 7.34226 11.3118C6.01115 12.8961 5.94671 14.627 7.16004 16.1824L13.3445 23.7461L5.94004 17.4645L5.8956 17.4245C4.48004 16.1735 4.24671 14.6004 5.22448 12.8672C5.23337 12.8495 6.10893 11.0807 7.26004 10.2164Z"
                  fill="#595757" />
                <path
                  d="M12.6667 22.5773C13.6 22.224 14.2978 21.5108 14.7289 20.4353L18.1423 11.2918L16.4578 20.8308L16.4467 20.8886C16.0512 22.8906 14.6912 23.5261 13.5934 23.7061L12.6689 22.5751L12.6667 22.5773Z"
                  fill="#595757" />
                <path
                  d="M17.6912 11.6562C16.2156 9.45647 13.9067 8.4188 11.44 8.89431L7.78448 9.732L11.3489 7.78331C11.8289 7.48112 15.7823 6.23459 18.1112 9.76088L18.3356 10.1408L17.6934 11.6562H17.6912Z"
                  fill="#595757" />
                <path
                  d="M15.8578 5.95017C13.4689 4.66586 10.9889 5.99239 9.97115 6.92562L5.67115 10.6186L9.34893 6.08571C9.80893 5.52355 12.2156 3.46598 14.7956 4.37033C14.9889 4.57698 15.1756 4.79251 15.3223 5.0436L15.8556 5.94795L15.8578 5.95017Z"
                  fill="#595757" />
                <path
                  d="M8.66226 5.04582C9.35782 3.87039 10.6045 3.16602 11.9934 3.16602C12.9023 3.16602 13.7334 3.49265 14.4067 4.03037C11.8889 3.45932 9.63337 5.39689 9.18226 5.95017L5.30893 10.723L8.66449 5.04804L8.66226 5.04582Z"
                  fill="#595757" />
                <path
                  d="M1.33115 17.449C1.25782 18.7777 1.68893 20.3198 3.78226 21.0308C3.82004 21.0442 3.85115 21.053 3.8756 21.0642L13.0223 24.3083L3.44893 22.7706C2.57115 22.604 0.533374 21.9152 0.373374 19.1621C0.424485 19.0555 0.448929 18.9444 0.511152 18.8422L1.33337 17.4512L1.33115 17.449Z"
                  fill="#595757" />
                <path
                  d="M0.484485 22.5751C-0.0577374 21.6308 -0.135515 20.5464 0.204485 19.551C0.535596 22.1307 2.52226 22.8173 3.42004 22.9884L12.8178 24.4993H3.84004C2.43115 24.4993 1.1756 23.7816 0.484485 22.5773V22.5751Z"
                  fill="#595757" />
                <path
                  d="M19.2689 24.4971C20.4956 23.6661 20.9623 22.4507 20.6378 20.8731C20.6289 20.8331 20.6223 20.802 20.62 20.7775L18.7912 11.2829L22.3134 20.2798C22.5712 20.9975 22.9845 22.8151 21.3356 24.2994C20.9578 24.4194 20.5623 24.4993 20.1467 24.4993H19.2689V24.4971Z"
                  fill="#595757" />
                <path
                  d="M23.5 22.5751C23.1045 23.2639 22.5134 23.7705 21.8245 24.0972C23.1467 22.604 22.7712 20.9064 22.5134 20.1909L19.0578 11.3629L23.4778 18.8399C24.1667 20.0065 24.1756 21.4019 23.5023 22.5751H23.5Z"
                  fill="#595757" />
              </svg>
              關於我們
            </div>
          </template>
        </q-btn-dropdown>
        <!-- 下拉選單商品專區 -->
        <q-btn-dropdown
          auto-close
          stretch
          flat
          :ripple="{ color: 'white', early: false }"
          class="layoutTabs2 isList"
          :class="tabContentClass"
          @mouseenter="openDropdown"
          @mouseleave="closeDropdown"
          v-model="dropdownVisible"
          to="/allProduct">
          <template v-slot:label>
            <div class="tab-content">
              <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M23.9985 14.8215C23.9896 13.6593 23.9874 12.4948 23.9985 11.3326C24.0029 10.8437 23.9518 10.3815 23.6074 9.99707C23.9185 9.63485 24.0185 9.22151 23.9963 8.76818C23.9874 8.56596 23.9918 8.36151 23.9963 8.15929C24.0052 7.58818 23.8163 7.09263 23.4429 6.65929C22.6829 5.77929 21.9295 4.89263 21.1651 4.01485C21.0317 3.86151 20.9495 3.71263 21.0162 3.5104C21.4006 3.39485 21.5006 3.26151 21.5006 2.85263C21.5006 2.2904 21.494 1.72818 21.5051 1.16596C21.5117 0.863737 21.4184 0.634848 21.1384 0.499293H16.8738C16.5849 0.623737 16.4871 0.845959 16.4938 1.15485C16.5093 1.70818 16.4982 2.26374 16.4982 2.81707C16.4982 3.26374 16.5693 3.36596 16.9849 3.52374C17.0382 3.70596 16.9738 3.84596 16.8516 3.98818C16.3982 4.50818 15.9493 5.03263 15.4982 5.55707C15.056 5.04151 14.6137 4.52596 14.167 4.01485C14.0337 3.86151 13.9515 3.71263 14.0181 3.5104C14.4026 3.39485 14.5026 3.26151 14.5026 2.85263C14.5026 2.2904 14.4937 1.72818 14.507 1.16596C14.5137 0.863737 14.4204 0.634848 14.1404 0.499293H9.87576C9.58686 0.623737 9.48908 0.845959 9.49575 1.15485C9.5113 1.70818 9.50019 2.26374 9.50019 2.81707C9.50019 3.26374 9.57131 3.36596 9.98688 3.52374C10.0402 3.70596 9.97577 3.84596 9.85354 3.98818C9.40019 4.50818 8.95128 5.03263 8.50016 5.55707C8.05792 5.04151 7.61568 4.52596 7.169 4.01263C7.03566 3.85929 6.95343 3.7104 7.0201 3.50818C7.40456 3.39263 7.50457 3.25929 7.50457 2.8504C7.50457 2.28818 7.4979 1.72596 7.50901 1.16374C7.51568 0.861515 7.42234 0.632626 7.14233 0.49707H2.87995C2.59105 0.621515 2.49327 0.843737 2.49994 1.15263C2.51549 1.70596 2.50438 2.26151 2.50438 2.81485C2.50438 3.26151 2.5755 3.36374 2.99107 3.52151C3.0444 3.70374 2.97996 3.84374 2.85773 3.98596C2.09992 4.85707 1.35323 5.73929 0.593203 6.6104C0.202077 7.06374 -0.0112637 7.5704 0.00873704 8.1704C0.0131816 8.34151 0.0176263 8.51485 0.00873704 8.68596C-0.0157083 9.16596 0.0509608 9.61929 0.384306 9.98596C0.0420716 10.5037 0.00873704 10.6171 0.00873704 11.2282C0.00873704 12.4237 0.015404 13.6171 0.00429244 14.8126C-0.000152171 15.2504 0.0887399 15.6482 0.395418 15.9993C0.0442939 16.3682 0.00207013 16.8237 0.00651474 17.3037C0.0154039 18.9504 0.037627 20.5993 0.00207013 22.246C-0.0268198 23.5482 0.982106 24.5193 2.2466 24.4993C4.08889 24.4682 5.93117 24.4926 7.77346 24.4904C8.0357 24.4904 8.28015 24.4548 8.50682 24.3904C8.73794 24.4637 8.98462 24.5037 9.24463 24.4993C11.0869 24.4682 12.9292 24.4926 14.7715 24.4904C15.0337 24.4904 15.2782 24.4548 15.5049 24.3904C15.736 24.4637 15.9826 24.5037 16.2427 24.4993C18.0849 24.4682 19.9272 24.4926 21.7695 24.4904C23.1118 24.4904 23.9985 23.6015 23.9985 22.2593C23.9985 20.6815 23.9941 19.106 24.0007 17.5282C24.0029 16.9793 24.0207 16.4304 23.6118 15.9926C23.9074 15.6393 24.0052 15.2526 24.0007 14.8215H23.9985ZM1.01766 8.03263C1.05544 7.7904 1.15545 7.52818 1.31101 7.34151C2.08659 6.40151 2.87995 5.47929 3.68443 4.56374C3.9111 4.30596 4.05111 4.04818 4.00444 3.70151C3.99555 3.64151 4.00444 3.57929 4.00444 3.50818H5.98229C5.9934 3.53929 6.00896 3.56374 6.00451 3.58374C5.91562 4.0704 6.17563 4.40151 6.47564 4.74151C7.22678 5.58818 7.95125 6.45929 8.69128 7.31485C8.90017 7.55707 9.00684 7.8304 9.00684 8.14818C9.00684 8.39707 9.00906 8.64818 9.00684 8.89707C9.00018 9.30818 8.8135 9.49485 8.40015 9.49485C6.69787 9.49485 1.63324 9.49929 1.51546 9.49485C1.21545 9.48151 1.01766 9.2904 1.00877 8.9904C0.999884 8.6704 0.968772 8.34374 1.01988 8.03263H1.01766ZM9.00462 22.2548C9.00462 23.0571 8.56238 23.4948 7.75346 23.4948C7.52234 23.4948 7.289 23.4948 7.01344 23.4948C7.31789 23.026 7.50457 22.5571 7.49345 22.0126H6.5112C6.47119 22.5037 6.28008 22.9215 5.86451 23.2171C5.60227 23.4037 5.30449 23.4948 4.98447 23.4926C4.20667 23.4837 3.74887 23.0326 3.47331 22.0104H2.50883C2.49772 22.5548 2.68439 23.0215 3.00218 23.5148C2.57105 23.4926 2.18882 23.5082 1.81991 23.4482C1.37101 23.3726 1.01322 22.9371 1.00877 22.4771C0.997662 20.6504 0.999884 18.8237 1.00433 16.9971C1.00433 16.7104 1.19767 16.5215 1.49101 16.4971C1.64657 16.4837 1.80214 16.4971 1.98436 16.4971C2.03992 16.4948 2.09326 16.4948 2.14659 16.4948C3.81776 16.4948 6.64009 16.4948 8.30904 16.4948C8.8335 16.4948 9.00018 16.6593 9.00018 17.1771C9.00018 18.8704 9.00018 20.566 9.00018 22.2593L9.00462 22.2548ZM9.00462 14.7793C9.00462 15.3482 8.85573 15.4948 8.28015 15.4948C6.61787 15.4948 3.80443 15.4948 2.13993 15.4948H1.98881C1.98881 15.4948 1.96881 15.4948 1.95992 15.4948H1.87325C1.76658 15.4948 1.66213 15.4948 1.55546 15.4948C1.211 15.4882 1.00655 15.2971 1.00655 14.9615C1.00211 13.6504 1.00211 12.3371 1.00655 11.026C1.00655 10.7104 1.19767 10.5171 1.51324 10.4971C1.66658 10.486 1.82214 10.4971 1.98659 10.4971C2.04214 10.4971 2.09548 10.4971 2.14881 10.4971C3.8111 10.4971 6.62453 10.4971 8.28904 10.4971C8.8535 10.4971 9.00684 10.6504 9.00684 11.2237C9.00684 12.4104 9.00684 13.5971 9.00684 14.7837L9.00462 14.7793ZM9.87799 9.56818H14.1159C14.1759 9.71485 14.2581 9.85485 14.3759 9.98374C14.2648 10.1526 14.187 10.2793 14.1337 10.3926H9.86243C9.80465 10.2526 9.72465 10.1193 9.61353 9.99485C9.72909 9.85929 9.81798 9.71707 9.87799 9.56818ZM14.207 16.2415H9.79354C9.74465 16.1548 9.68909 16.0726 9.61575 15.9926C9.76909 15.8104 9.86687 15.6193 9.92688 15.4171H14.0715C14.1315 15.6215 14.2293 15.8148 14.3893 15.9948C14.3159 16.0726 14.2581 16.1548 14.2093 16.2415H14.207ZM15.0093 8.0304C15.0471 7.78818 15.1471 7.52596 15.3026 7.33929C16.0782 6.39929 16.8716 5.47707 17.676 4.56151C17.9027 4.30374 18.0427 4.04596 17.9961 3.69929C17.9872 3.63929 17.9961 3.57707 17.9961 3.50596H19.9739C19.985 3.53707 20.0006 3.56151 19.9961 3.58151C19.9072 4.06818 20.1672 4.39929 20.4673 4.73929C21.2184 5.58596 21.9429 6.45707 22.6829 7.31263C22.8918 7.55485 22.9985 7.82818 22.9985 8.14596C22.9985 8.39485 23.0007 8.64596 22.9985 8.89485C22.9918 9.30596 22.8051 9.49263 22.3918 9.49263C20.6895 9.49263 15.6249 9.49707 15.5071 9.49263C15.2071 9.47929 15.0093 9.28818 15.0004 8.98818C14.9915 8.66818 14.9604 8.34151 15.0115 8.0304H15.0093ZM22.9962 22.2526C22.9962 23.0548 22.554 23.4926 21.7451 23.4926C21.514 23.4926 21.2806 23.4926 21.0051 23.4926C21.3095 23.0237 21.4962 22.5548 21.4851 22.0104H20.5028C20.4628 22.5015 20.2717 22.9193 19.8561 23.2148C19.5939 23.4015 19.2961 23.4926 18.9761 23.4904C18.1983 23.4815 17.7405 23.0304 17.4649 22.0082H16.5004C16.4893 22.5526 16.676 23.0193 16.9938 23.5126C16.5627 23.4904 16.1804 23.506 15.8115 23.446C15.3626 23.3704 15.0048 22.9348 15.0004 22.4748C14.9893 20.6482 14.9915 18.8215 14.9959 16.9948C14.9959 16.7082 15.1893 16.5193 15.4826 16.4948C15.6382 16.4815 15.7938 16.4948 15.976 16.4948C16.0315 16.4926 16.0849 16.4926 16.1382 16.4926C17.8094 16.4926 20.6295 16.4926 22.3007 16.4926C22.8251 16.4926 22.9918 16.6571 22.9918 17.1748C22.9918 18.8682 22.9918 20.5637 22.9918 22.2571L22.9962 22.2526ZM22.9962 14.7771C22.9962 15.346 22.8473 15.4926 22.2718 15.4926C20.6095 15.4926 17.796 15.4926 16.1315 15.4926H15.9804C15.9804 15.4926 15.9604 15.4926 15.9515 15.4926H15.8649C15.7582 15.4926 15.6537 15.4926 15.5471 15.4926C15.2026 15.486 14.9982 15.2948 14.9982 14.9593C14.9937 13.6482 14.9937 12.3348 14.9982 11.0237C14.9982 10.7082 15.1893 10.5148 15.5049 10.4948C15.6582 10.4837 15.8138 10.4948 15.9782 10.4948C16.0338 10.4948 16.0871 10.4948 16.1404 10.4948C17.8027 10.4948 20.6162 10.4948 22.2807 10.4948C22.8451 10.4948 22.9985 10.6482 22.9985 11.2215C22.9985 12.4082 22.9985 13.5948 22.9985 14.7815L22.9962 14.7771Z"
                  fill="#595757" />
              </svg>

              商品專區
            </div>
          </template>
          <q-list @mouseenter="keepDropdownOpen" @mouseleave="closeDropdown" class="headList">
            <q-item :class="{ active: isActiveGlacierProduct }" clickable to="/glacierProduct" class="textHover">
              <q-item-section>冰川</q-item-section>
            </q-item>

            <q-item clickable to="/worldProduct" :class="{ active: isActiveWorldProduct }" class="textHover">
              <q-item-section>WORLD WATER</q-item-section>
            </q-item>
            <q-item clickable to="/allProduct" :class="{ active: isActiveAllProduct }" class="textHover">
              <q-item-section>商品總覽</q-item-section>
            </q-item>
          </q-list>
        </q-btn-dropdown>
        <!-- 世間水 -->
        <q-btn-dropdown to="/world" class="layoutTabs2" :class="{ active: isActiveWorld }" flat :ripple="{ color: 'white', early: false }">
          <template v-slot:label>
            <div class="tab-content">
              <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M12.6044 19.8722C11.9711 21.0677 10.8622 22.1076 9.69778 22.2631C7.62222 22.5386 6.06222 21.201 5.34222 19.4967C4.48222 17.4592 5.09778 18.819 3.05778 11.0243C2.07333 7.27581 1.16 7.03806 0.5 7.12027C1.16 6.10927 4.75111 5.79819 5.83111 7.55356C6.94222 9.35781 7.17333 12.9508 8.44889 17.4658C9.57111 21.4365 11.6378 20.8477 12.6044 19.8745V19.8722Z"
                  fill="#595757" />
                <path
                  d="M20.3822 14.4239C20.3822 13.0485 21.5689 11.7064 22.1022 11.1732C21.8733 9.65555 21.5022 8.69566 20.9689 7.70021C20.0311 5.95373 16.9089 5.9715 15.9111 6.9114C16.3222 7.0425 17.4267 7.33136 18.5867 11.5354C18.8444 12.4708 19.6044 15.8016 19.9689 18.4302C20.1756 19.9122 20.2778 21.2477 19.6378 21.7476C18.9067 22.3186 18.0333 22.1142 17.4378 21.3699C16.9 20.6988 16.4467 19.7989 16.0667 18.2635C14.8978 13.544 14.5267 9.81776 13.3911 7.70243C12.4533 5.95595 9.33111 5.97372 8.33111 6.91362C8.74222 7.04472 9.77111 6.42923 11.0067 11.5376C11.46 13.4107 11.4333 13.9062 12.72 19.5545C12.8444 19.9567 13.0133 20.3322 13.2156 20.6766C14.1222 22.212 15.7467 23.1741 17.4889 22.8964C19.3622 22.5986 20.4489 21.1543 20.6356 20.9743C21.7 19.9456 22.1356 18.3213 22.2933 16.7237C21.2067 16.5148 20.3844 15.5638 20.3844 14.4262L20.3822 14.4239Z"
                  fill="#595757" />
                <path
                  d="M22.74 11.4265C22.74 11.4265 20.98 13.0085 20.98 14.4639C20.98 15.4283 21.7689 16.2104 22.74 16.2104C23.7111 16.2104 24.5 15.4283 24.5 14.4639C24.5 13.0707 22.74 11.4265 22.74 11.4265ZM22.74 15.9882C22.1911 15.9882 21.7489 15.546 21.7489 15.0039C21.7489 14.184 22.74 13.2907 22.74 13.2907C22.74 13.2907 23.7311 14.2173 23.7311 15.0039C23.7311 15.5483 23.2867 15.9882 22.74 15.9882Z"
                  fill="#595757" />
              </svg>
              世間水
            </div>
          </template>
        </q-btn-dropdown>
        <!-- 相關消息 -->
        <!-- <q-btn-dropdown to="/news" class="layoutTabs2" :class="{ active: isActiveNews }" flat :ripple="{ color: 'white', early: false }">
          <template v-slot:label>
            <div class="tab-content">
              <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M11.9872 24.4973C11.3449 24.4417 10.6849 24.4551 10.0605 24.3129C8.68049 23.9995 7.77382 22.7907 7.74271 21.3708C7.72271 20.4442 7.77605 19.502 7.62494 18.5954C7.31827 16.7444 6.46271 15.1223 5.36049 13.6113C3.28271 10.7692 3.25605 6.9272 5.24938 4.05848C7.20271 1.25198 10.5938 -0.0568329 13.9116 0.720899C17.1227 1.47419 19.6094 4.15625 20.1183 7.48939C20.4605 9.73593 19.9672 11.8091 18.6205 13.6468C17.4494 15.2445 16.596 16.9844 16.3072 18.9554C16.1916 19.7487 16.2694 20.5686 16.2427 21.3752C16.2005 22.6485 15.6027 23.5951 14.456 24.1195C14.0116 24.3217 13.4894 24.3684 12.996 24.4395C12.6672 24.4862 12.3249 24.4484 11.9894 24.4484C11.9894 24.4662 11.9872 24.4817 11.9849 24.4995L11.9872 24.4973ZM13.0827 17.9066C13.5094 17.9066 13.9272 18.011 14.2294 17.8688C14.4183 17.7799 14.4316 17.3177 14.5249 17.0222C14.536 16.9866 14.5472 16.9533 14.556 16.9177C15.0605 15.2223 15.8938 13.7024 16.9316 12.2824C17.6249 11.3358 17.9983 10.2581 18.0427 9.08708C18.1894 5.19619 15.0516 2.29192 11.196 2.72967C8.3916 3.04965 6.03382 5.64061 5.94938 8.47822C5.90494 9.99814 6.34938 11.3469 7.25605 12.558C8.12049 13.7113 8.79382 14.9734 9.26049 16.34C9.43827 16.86 9.58049 17.391 9.73605 17.9021H10.9205C10.9205 17.7444 10.9205 17.6132 10.9205 17.4821C10.9205 15.5756 10.9205 13.669 10.9205 11.7625C10.9205 11.0247 11.3516 10.5425 12.0049 10.5448C12.656 10.5448 13.0805 11.027 13.0805 11.7691C13.0805 13.6757 13.0805 15.5823 13.0805 17.4888V17.9066H13.0827ZM9.90938 20.1175C9.90938 20.5464 9.90494 20.9308 9.90938 21.3153C9.91605 21.8197 10.1894 22.2041 10.6916 22.2308C11.5627 22.2774 12.4383 22.2641 13.3094 22.2308C13.6983 22.2152 14.0027 21.9463 14.0494 21.5508C14.1049 21.0797 14.0627 20.5997 14.0627 20.1198H9.90938V20.1175Z"
                  fill="#595757" />
                <path
                  d="M11.9894 11.4025C11.4249 11.4025 10.8605 11.4092 10.296 11.4025C9.59382 11.3914 9.1116 10.9336 9.12049 10.3048C9.1316 9.69149 9.61382 9.23818 10.2894 9.23374C11.4294 9.22707 12.5694 9.22707 13.7116 9.23374C14.3938 9.23818 14.8694 9.68038 14.8805 10.3003C14.8916 10.9403 14.4227 11.3847 13.7183 11.4047C13.6938 11.4047 13.6694 11.4047 13.6472 11.4047C13.0938 11.4047 12.5427 11.4047 11.9894 11.4047V11.4025Z"
                  fill="#595757" />
              </svg>

              相關消息
            </div>
          </template>
        </q-btn-dropdown> -->
      </q-tabs>
    </q-header>
    <q-drawer v-model="rightDrawerOpen" side="right" behavior="mobile" bordered class="bg-white text-black" :width="200" style="z-index: 2999">
      <q-list>
        <q-item clickable to="/" class="text-grey-8" exact>
          <q-item-section>主頁</q-item-section>
        </q-item>

        <q-expansion-item label="關於我們" header-class="text-grey-8">
          <q-item clickable to="/world" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">世間水</q-item-section>
          </q-item>
          <q-item clickable to="/about" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">公司介紹</q-item-section>
          </q-item>
          <q-item clickable @click="openEmailDialog">
            <q-item-section class="drawerItem">聯絡我們</q-item-section>
          </q-item>
        </q-expansion-item>

        <q-expansion-item label="商品專區" header-class="text-grey-8">
          <q-item clickable to="/glacierProduct" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">冰川</q-item-section>
          </q-item>
          <q-item clickable to="/worldProduct" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">WORLD WATER</q-item-section>
          </q-item>
          <q-item clickable to="/allProduct" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">商品總覽</q-item-section>
          </q-item>
        </q-expansion-item>
        <!-- <q-expansion-item label="相關消息" header-class="text-grey-8">
          <q-item clickable to="/news" @click="rightDrawerOpen = false">
            <q-item-section class="drawerItem">健康水知識</q-item-section>
          </q-item>
        </q-expansion-item> -->
        <!-- <q-item clickable to="/news" @click="rightDrawerOpen = false">
          <q-item-section class="drawerItem">最新消息</q-item-section>
        </q-item> -->
      </q-list>
    </q-drawer>
    <q-page-container>
      <slot />
    </q-page-container>

    <q-footer class="bg-white">
      <q-toolbar class="footer">
        <div class="footerContainer">
          <div class="footerContainerTop">
            <div class="footerLogo text-white">
              <img src="/default/logo-white.png" alt="水泉水" />
              <p>
                水泉水生技股份有限公司長年經營包裝飲用水市場，深刻了解「水」之於人體的重要性，從符合法規要求的食品安全基準線開始前進，不斷思索如何研發出不單單符合食品安全的飲用水，而是更進一步的從人體所需為出發點思索如何補充其關鍵元素，使人體能達到平衡為目的的優質產品。
              </p>
            </div>
            <div class="footerList">
              <div class="list1">
                <div class="listTitle">關於我們</div>
                <div class="greyLine"></div>
                <div class="listContent">
                  <router-link to="/world" class="textHover"><p>世間水</p></router-link>
                  <router-link to="/about" class="textHover"><p>公司介紹</p></router-link>
                  <p @click="openEmailDialog" class="pointer textHover">聯絡我們</p>
                </div>
              </div>

              <div class="list2">
                <!-- <router-link to="/about"> -->
                <div class="listTitle">商品專區</div>
                <!-- </router-link> -->
                <div class="greyLine"></div>
                <div class="listContent">
                  <router-link to="/glacierProduct" class="textHover"><p>冰川</p></router-link>
                  <router-link to="/worldProduct" class="textHover"><p>WORLD WATER</p></router-link>
                  <router-link to="/allProduct" class="textHover"><p>商品總覽</p></router-link>
                </div>
              </div>
              <!-- <div class="list3">
                <div class="listTitle">相關消息</div>
                <div class="greyLine"></div>
                <div class="listContent">
                  <router-link to="/news" class="textHover"><p>健康水知識</p></router-link>
                </div>
              </div> -->
              <!-- <router-link to="/news" class="textHover"><p>最新消息</p></router-link> -->
            </div>
          </div>
          <div class="footerContainerBottom">
            <div class="footerConnections">
              <div class="footerConnection">
                <img src="/default/phone.png" alt="電話" />
                <p>
                  服務專線
                  <a>(04)737-5181</a>
                </p>
              </div>
              <div class="footerConnection">
                <img src="/default/mail.png" alt="信箱" />
                <p>service@springwater.tw</p>
              </div>
            </div>
            <div class="footerPrivcy">
              <p>
                Copyright © 2023水泉水生技股份有限公司著作權所有 |
                <br class="lt-sm" />
                <router-link to="/privacy" class="custom-link">隱私權政策</router-link>
              </p>
            </div>
          </div>
        </div>
      </q-toolbar>
    </q-footer>
    <!-- 浮動按钮 -->
    <div class="floating-buttons">
      <div class="vertical-fab">
        <img src="/default/mailIcon.png" alt="信件" @click="openEmailDialog" />
        <div class="vertical-fab">
          <img src="/default/phoneIcon.png" alt="訊息我們" @click="dialNumber" />
        </div>
      </div>
    </div>
    <!-- 信箱 -->
    <emailDialog />
  </q-layout>
</template>

<script setup>
import { useDialogStore } from '/stores/useDialogStore'
import { useUniversal } from '/composables/universal'

const { openEmailDialog } = useDialogStore()

const { dialNumber } = useUniversal()
const route = useRoute()
const dropdownHovered = ref(false)
const dropdownVisible = ref(false)

const rightDrawerOpen = ref(false)

let closeDropdownTimeout = null

const isActiveProduct = computed(() => {
  return ['/glacierProduct', '/worldProduct', '/allProduct'].includes(route.path)
})

const isActiveNews = computed(() => route.path.includes('/news'))
const isActiveHome = computed(() => route.path === '/')
const isActiveAbout = computed(() => route.path === '/about')
const isActiveWorldProduct = computed(() => route.path === '/worldProduct')
const isActiveAllProduct = computed(() => route.path === '/allProduct')
const isActiveGlacierProduct = computed(() => route.path === '/glacierProduct')
const isActiveWorld = computed(() => route.path === '/world')

const toggleRightDrawer = () => {
  rightDrawerOpen.value = !rightDrawerOpen.value
}

function openDropdown() {
  if (closeDropdownTimeout) clearTimeout(closeDropdownTimeout)
  dropdownVisible.value = true
  dropdownHovered.value = true
}

function closeDropdown() {
  closeDropdownTimeout = setTimeout(() => {
    dropdownVisible.value = false
    dropdownHovered.value = false
  }, 200) // 延遲 200 毫秒
}

function keepDropdownOpen() {
  if (closeDropdownTimeout) clearTimeout(closeDropdownTimeout)
  dropdownVisible.value = true
  dropdownHovered.value = true
}
const tabContentClass = computed(() => ({
  active: isActiveProduct.value,
  'dropdown-visible': dropdownVisible.value,
  'dropdown-hovered': dropdownHovered.value
}))

// 監控路由變化
watch(
  () => route.path,
  (newPath, oldPath) => {
    if (newPath !== oldPath) {
      closeDropdown()
    }
  }
)
</script>
<style lang="scss" scoped>
@import '/assets/default';
</style>
